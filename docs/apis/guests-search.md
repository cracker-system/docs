---
sidebar_position: 10
---

# ゲスト検索
ゲスト情報の検索・取得を行います。

## 基本仕様
- エンドポイント : /guests?type={search type}&query={search word}
- メソッド : GET

## リクエストヘッダー
APIキーなどの共通の設定は「Cracker API概要」を参照してください。

## パスパラメータ
なし

## クエリパラメータ
|パラメータ名|タイプ|必須|説明|
|----|----|----|----|
|type|文字列|必須|検索タイプを指定します。|
|query|文字列|必須|検索ワードを指定します。|
|state|文字列||ゲストの入退場状況を指定します。|

- ntypeについて
ゲスト情報の何を検索するかを指定します。

|タイプ名|説明|
|----|----|
|name|ゲスト名から検索を行います。|
|mail|メールアドレスから検索を行います。|

どちらのタイプの場合でもデータベース上の文字列に一致する部分があれば結果として出力されます。  

- stateについて
ゲストの入退場状況で絞り込み検索ができます。
指定できる値は`not_entered`、`entered`、`deleted`のいずれか。「データベース構成と規則」に準拠しています。

## リクエストボディ
なし

## レスポンスボディ

|パラメータ名|タイプ|説明|
|----|----|----|
|guest_id|文字列|ゲストID|
|guests|配列|来場者の続き柄と名前|
|student_info|配列|生徒情報|
|state|文字列|入退場状況|
|mail|文字列|登録済みメールアドレス|

レスポンスボディサンプル
```
{
    "guest_id": "9d4f400c-8df8-8597-31c5-84df54c27702",
    "guests": [
        [
            "母",
            "佐藤恵"
        ],
        [
            "兄",
            "佐藤健一"
        ]
    ],
    "student_info": [
        "佐藤花子",
        "普通科",
        "3年",
        "1組"
    ],
    "state": "not_entered",
    "mail": "satou@example.com"
}
```
